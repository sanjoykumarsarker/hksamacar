(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{97:function(t,e,n){"use strict";n.r(e);var o=n(7),c={props:["product"],data:function(){return{loading:!1,columns:[{label:"DATE",name:"date",orderable:!1},{label:"STORE",name:"placement",orderable:!1},{label:"AMOUNT",name:"amount",orderable:!1},{label:"Action",name:"Delete",event:"click",handler:this.selectRow,component:o.a,classes:""}],selected:null}},computed:{url:function(){return"".concat(axios.defaults.baseURL,"/product/").concat(this.product.id,"/stock")}},methods:{loadInitial:function(){var t=this;axios.get("product/".concat(this.product.id,"/stock")).then((function(e){return t.stocks=e.data.stock})).catch((function(e){return t.$toast.error(e.message)}))},selectRow:function(t,e){this.selected=t,"edit"===e?this.openEditModal():"delete"===e&&this.openDeleteAlert()},openDeleteAlert:function(){window.ModalBus.$emit("open",{component:function(){return n.e(4).then(n.bind(null,90))},alert:!0,props:{type:"error",handleClick:this.yesClicked}})},yesClicked:function(){var t=this;this.selected&&axios.delete("product/".concat(this.product.id,"/stock/").concat(this.selected.id)).then((function(e){t.$toast.success(e.data.success),setTimeout((function(){return window.ModalBus.$emit("close")}),500)})).catch((function(e){return t.$toast.error("".concat(e.message))})).finally((function(){return t.selected=null}))},openEditModal:function(){window.ModalBus.$emit("open",{component:function(){return n.e(2).then(n.bind(null,96))},title:"Edit Stock",props:{product:this.product,stock:this.selected}})}}},s=n(0),l=Object(s.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{},[e("data-table",{attrs:{url:this.url,"order-dir":"desc",columns:this.columns,framework:"tailwind"}},[e("div",{attrs:{slot:"filters"},slot:"filters"})])],1)}),[],!1,null,null,null);e.default=l.exports}},0,[2,4]]);