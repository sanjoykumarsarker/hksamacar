(function(e){function t(t){for(var a,n,r=t[0],d=t[1],i=t[2],b=0,s=[];b<r.length;b++)n=r[b],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&s.push(l[n][0]),l[n]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);u&&u(t);while(s.length)s.shift()();return c.push.apply(c,i||[]),o()}function o(){for(var e,t=0;t<c.length;t++){for(var o=c[t],a=!0,r=1;r<o.length;r++){var d=o[r];0!==l[d]&&(a=!1)}a&&(c.splice(t--,1),e=n(n.s=o[0]))}return e}var a={},l={app:0},c=[];function n(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=a,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/book_hisab/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=t,r=r.slice();for(var i=0;i<r.length;i++)t(r[i]);var u=d;c.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"56d7":function(e,t,o){"use strict";o.r(t);var a=o("c3a1"),l=(o("d9b6"),o("7a23"));const c=Object(l["createTextVNode"])(" Left Click to Add "),n=Object(l["createElementVNode"])("br",null,null,-1),r=Object(l["createTextVNode"])("Right Click to Remove "),d=Object(l["createTextVNode"])("ADD COLUMN"),i=Object(l["createTextVNode"])("REFRESH"),u=Object(l["createTextVNode"])("ADD NEW BOOK"),b=Object(l["createTextVNode"])("PRINT"),s={id:"printable"},m=Object(l["createElementVNode"])("h4",{contenteditable:"true",style:{"text-align":"center"}},"জানুয়ারি ২০২২",-1),p=Object(l["createElementVNode"])("span",{class:"text-gray-500"},"-",-1),O=Object(l["createElementVNode"])("span",{class:"text-gray-500"},"-",-1),j={class:"dialog-footer"},f=Object(l["createTextVNode"])("Cancel"),h=Object(l["createTextVNode"])("Save"),V={class:"dialog-footer"},C=Object(l["createTextVNode"])("Cancel"),g=Object(l["createTextVNode"])("Submit");function v(e,t,o,a,v,w){const N=Object(l["resolveComponent"])("el-tag"),y=Object(l["resolveComponent"])("el-col"),x=Object(l["resolveComponent"])("el-autocomplete"),k=Object(l["resolveComponent"])("el-button"),_=Object(l["resolveComponent"])("el-input"),B=Object(l["resolveComponent"])("el-tooltip"),D=Object(l["resolveComponent"])("el-row"),S=Object(l["resolveComponent"])("el-divider"),T=Object(l["resolveComponent"])("el-table-column"),A=Object(l["resolveComponent"])("el-button-group"),E=Object(l["resolveComponent"])("el-popover"),M=Object(l["resolveComponent"])("el-table"),P=Object(l["resolveComponent"])("el-main"),U=Object(l["resolveComponent"])("el-dialog"),F=Object(l["resolveComponent"])("el-date-picker"),K=Object(l["resolveComponent"])("el-option"),I=Object(l["resolveComponent"])("el-select"),J=Object(l["resolveComponent"])("el-form-item"),L=Object(l["resolveComponent"])("el-form"),R=Object(l["resolveComponent"])("el-container"),H=Object(l["resolveDirective"])("focus");return Object(l["openBlock"])(),Object(l["createBlock"])(R,null,{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(P,null,{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(D,null,{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(y,{span:3},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(N,{class:"me-2",size:"large",type:"danger"},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])("Total Book: "+Object(l["toDisplayString"])(a.totalCount),1)]),_:1})]),_:1}),Object(l["createVNode"])(y,{span:6},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(x,{modelValue:a.searchValue,"onUpdate:modelValue":t[0]||(t[0]=e=>a.searchValue=e),"fetch-suggestions":a.searchBook,"trigger-on-focus":!1,"highlight-first-item":!0,placeholder:"Search...","prefix-icon":a.Search,onSelect:a.selectBook,"value-key":"name",style:{width:"95%"},clearable:""},null,8,["modelValue","fetch-suggestions","prefix-icon","onSelect"])]),_:1}),Object(l["createVNode"])(y,{span:2},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(_,{modelValue:a.tempValue,"onUpdate:modelValue":t[2]||(t[2]=e=>a.tempValue=e),modelModifiers:{number:!0},onKeydown:t[3]||(t[3]=Object(l["withKeys"])(e=>a.handleAdd(a.selectedOption),["enter"])),placeholder:"00"},{append:Object(l["withCtx"])(()=>[Object(l["createVNode"])(k,{onClick:t[1]||(t[1]=e=>a.handleAdd(a.selectedOption)),icon:a.Check},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),Object(l["createVNode"])(y,{span:13},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(B,{placement:"left"},{content:Object(l["withCtx"])(()=>[c,n,r]),default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(k,{onClick:a.addColumn,onContextmenu:Object(l["withModifiers"])(a.removeColumn,["prevent"]),type:"info"},{default:Object(l["withCtx"])(()=>[d]),_:1},8,["onClick","onContextmenu"])]),_:1}),Object(l["createVNode"])(k,{onClick:a.refreshTable,type:"primary"},{default:Object(l["withCtx"])(()=>[i]),_:1},8,["onClick"]),Object(l["createVNode"])(k,{onClick:t[4]||(t[4]=e=>a.dialogFormVisible=!0),type:"success"},{default:Object(l["withCtx"])(()=>[u]),_:1}),Object(l["createVNode"])(k,{onClick:a.toggleDialog,type:"danger"},{default:Object(l["withCtx"])(()=>[b]),_:1},8,["onClick"])]),_:1})]),_:1}),Object(l["createVNode"])(S),(Object(l["openBlock"])(),Object(l["createBlock"])(D,{key:a.refreshKey},{default:Object(l["withCtx"])(()=>[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.column,e=>(Object(l["openBlock"])(),Object(l["createBlock"])(y,{span:24/a.column,key:e},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(M,{data:a.getdata(e),border:"",style:{width:"100%"}},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(T,{prop:"name",label:"Name"},{default:Object(l["withCtx"])(e=>[Object(l["createVNode"])(k,{type:"text",onClick:t=>e.row.amount++},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.row.name),1)]),_:2},1032,["onClick"])]),_:1}),Object(l["createVNode"])(T,{prop:"amount",label:"Amount",width:"120","class-name":"no-padding"},{default:Object(l["withCtx"])(e=>[Object(l["createVNode"])(_,{type:"number",placeholder:"100",modelValue:e.row.amount,"onUpdate:modelValue":t=>e.row.amount=t,modelModifiers:{number:!0}},{append:Object(l["withCtx"])(()=>[Object(l["createVNode"])(E,{placement:"top",width:40,trigger:"click"},{reference:Object(l["withCtx"])(()=>[Object(l["createVNode"])(k,{tabindex:"-1",icon:a.Plus},null,8,["icon"])]),default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(A,{size:"small",style:{"margin-bottom":"8px"}},{default:Object(l["withCtx"])(()=>[(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(4,t=>Object(l["createVNode"])(k,{onClick:o=>a.handleCustomAdd(5*t,e.row),key:t},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])(Object(l["toDisplayString"])(5*t),1)]),_:2},1032,["onClick"])),64))]),_:2},1024),Object(l["withDirectives"])((Object(l["openBlock"])(),Object(l["createBlock"])(_,{type:"number",placeholder:"100",autofocus:!0,modelValue:a.tempValue,"onUpdate:modelValue":t[5]||(t[5]=e=>a.tempValue=e),modelModifiers:{number:!0},onKeyup:Object(l["withKeys"])(t=>a.handleAdd(e.row),["enter"])},{append:Object(l["withCtx"])(()=>[Object(l["createVNode"])(k,{onClick:t=>a.handleAdd(e.row),icon:a.Check},null,8,["onClick","icon"])]),_:2},1032,["modelValue","onKeyup"])),[[H]])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1})]),_:2},1032,["data"])]),_:2},1032,["span"]))),128))]),_:1}))]),_:1}),Object(l["createVNode"])(U,{modelValue:a.dialogVisible,"onUpdate:modelValue":t[7]||(t[7]=e=>a.dialogVisible=e),title:"মাসিক হরেকৃষ্ণ সমাচার"},{default:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("div",s,[m,Object(l["createVNode"])(M,{"show-summary":"",border:"",data:a.printingData,"sum-text":"মোট"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(T,{type:"index",width:"60",label:"নং"}),Object(l["createVNode"])(T,{property:"name",label:"নাম"}),Object(l["createVNode"])(T,{property:"amount",label:"পরিমাণ",width:"100"})]),_:1},8,["data"])]),Object(l["createVNode"])(A,{class:"btn-group"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(k,{icon:a.Printer,type:"primary",plain:"",onClick:a.printMe},null,8,["icon","onClick"]),Object(l["createVNode"])(k,{icon:a.DocumentCopy,type:"success",plain:"",onClick:t[6]||(t[6]=e=>a.dialogFormVisible2=!0)},null,8,["icon"])]),_:1})]),_:1},8,["modelValue"]),Object(l["createVNode"])(U,{modelValue:a.dialogFormVisible,"onUpdate:modelValue":t[15]||(t[15]=e=>a.dialogFormVisible=e),title:"Add New Book",width:"35%"},{footer:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("span",j,[Object(l["createVNode"])(k,{onClick:t[14]||(t[14]=e=>a.dialogFormVisible=!1)},{default:Object(l["withCtx"])(()=>[f]),_:1}),Object(l["createVNode"])(k,{type:"primary",loading:a.formSubmiting,onClick:a.addNewBook},{default:Object(l["withCtx"])(()=>[h]),_:1},8,["loading","onClick"])])]),default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(L,{model:a.form,"label-width":"100px"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(J,{label:"Date"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(y,{span:11},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(F,{modelValue:a.form.created_at,"onUpdate:modelValue":t[8]||(t[8]=e=>a.form.created_at=e),type:"date",placeholder:"Pick a date",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(y,{span:2,class:"text-center"},{default:Object(l["withCtx"])(()=>[p]),_:1}),Object(l["createVNode"])(y,{span:11},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(I,{modelValue:a.form.category_id,"onUpdate:modelValue":t[9]||(t[9]=e=>a.form.category_id=e),placeholder:"Category"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(K,{label:"HKP",value:"1"}),Object(l["createVNode"])(K,{label:"BBT",value:"2"}),Object(l["createVNode"])(K,{label:"Others",value:"3"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),Object(l["createVNode"])(J,{label:"Bangla Name"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(_,{modelValue:a.form.name,"onUpdate:modelValue":t[10]||(t[10]=e=>a.form.name=e),placeholder:"বইয়ের নাম (বাংলায়)"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(J,{label:"English Name"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(_,{modelValue:a.form.en_name,"onUpdate:modelValue":t[11]||(t[11]=e=>a.form.en_name=e),placeholder:"Type Book Name"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(J,{label:"Price"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(y,{span:11},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(_,{modelValue:a.form.wholesale_price,"onUpdate:modelValue":t[12]||(t[12]=e=>a.form.wholesale_price=e),modelModifiers:{number:!0},placeholder:"Wholesale"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(y,{span:2,class:"text-center"},{default:Object(l["withCtx"])(()=>[O]),_:1}),Object(l["createVNode"])(y,{span:11},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(_,{modelValue:a.form.retail_price,"onUpdate:modelValue":t[13]||(t[13]=e=>a.form.retail_price=e),modelModifiers:{number:!0},placeholder:"Retail"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),Object(l["createVNode"])(U,{modelValue:a.dialogFormVisible2,"onUpdate:modelValue":t[18]||(t[18]=e=>a.dialogFormVisible2=e),title:"Save Data",width:"25%"},{footer:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("span",V,[Object(l["createVNode"])(k,{onClick:t[17]||(t[17]=e=>a.dialogFormVisible2=!1)},{default:Object(l["withCtx"])(()=>[C]),_:1}),Object(l["createVNode"])(k,{type:"primary",loading:a.formSubmiting,onClick:a.saveMonthlyData},{default:Object(l["withCtx"])(()=>[g]),_:1},8,["loading","onClick"])])]),default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(F,{modelValue:a.savingDate,"onUpdate:modelValue":t[16]||(t[16]=e=>a.savingDate=e)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})}var w=o("90b1"),N=o("3ef4"),y=o("a90d"),x=o("aab7"),k=o("1cf4"),_=o("39bf"),B=o("58f4");function D(e,t){t.forEach(t=>{let o=e.document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",t),e.document.getElementsByTagName("head")[0].appendChild(o)})}const S=e=>{let t="_blank",o=["fullscreen=yes","titlebar=yes","scrollbars=yes"],a=!0,l=["https://cdn.jsdelivr.net/npm/water.css@2/out/light.css"];o=o.length?o.join(","):"";const c=window.document.getElementById(e);if(!c)return void alert(`Element to print #${e} not found!`);const n="",r=window.open(n,t,o,a);return r.document.write(`\n          <html>\n            <head>\n              <title>${window.document.title}</title>\n            </head>\n            <body>\n              <h2 style="text-align:center">মাসিক হরেকৃষ্ণ সমাচার</h2>\n              <div>${c.innerHTML}</div>\n            </body>\n          </html>\n        `),D(r,l),setTimeout(()=>{r.document.close(),r.focus(),r.print(),r.close()},1e3),!0};var T=S,A=o("6062");const E="https://harekrishnasamacar.com/book_hisab",M={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}};var P={name:"App",setup(){const e=Object(l["ref"])(null),t=Object(l["ref"])(!1),o=Object(l["ref"])(1),a=Object(l["ref"])(4),c=Object(l["ref"])([]),n=Object(l["ref"])(!1),r=Object(l["ref"])(null),d=Object(l["ref"])({}),i=Object(l["ref"])(!1),u=Object(l["ref"])(!1),b=Object(l["reactive"])({name:"",en_name:"",category_id:"",created_at:""}),s=Object(l["ref"])(!1),m=Object(l["ref"])(new Date),p=()=>{t.value=!t.value,F()};let O=Object(l["ref"])([]),j=Object(l["ref"])([]);const f=()=>{localStorage.removeItem("booksData"),o.value+=o.value};let h=null;Object(l["onBeforeMount"])(async()=>{const e=w["a"].service({lock:!0,text:"Loading",background:"rgba(250, 250, 250, 0.7)"}),t=await fetch(E+"/getBook.php"),{data:o,total:a}=await t.json();if(j.value=a,O.value=o,h=new A["a"](O.value,{keys:["name","en_name"]}),localStorage.getItem("booksData")){let e=JSON.parse(localStorage.getItem("booksData"));O.value=O.value.map(t=>{let o=e.find(e=>e.id===t.id);return o?{...t,amount:o.amount}:t})}e.close()});const V=(e,t)=>{if(e){n.value=!0;const o=h.search(e);n.value=!1,t(o.map(e=>e.item))}},C=e=>{if(O.value.length){const t=Math.ceil(O.value.length/a.value);if(e>0&&e<=a.value)return O.value.slice(t*(e-1),t*e)}return[]},g=t=>{e.value&&(t.amount=Number(t.amount)+e.value,e.value=null)},v=(t,o)=>{e.value=t,g(o)},D=()=>{let e={...b};u.value=!0,fetch(E+"/addBook.php",{...M,body:JSON.stringify(e)}).then(e=>e.json()).then(t=>{Object(N["a"])({type:"success",message:t.message}),i.value=!1,u.value=!1,O.value.push({id:t.id,name:e.name,en_name:e.en_name,amount:0})}).catch(e=>{Object(N["a"])({type:"error",message:e.message}),u.value=!1})},S=()=>{a.value<8&&(a.value+=2)},P=()=>{a.value>2&&(a.value-=2)},U=()=>{u.value=!0;const e=c.value.map(e=>({id:e.id,date:m.value,amount:e.amount}));fetch(E+"/saveHisab.php",{...M,body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{Object(N["a"])({type:"success",message:e.message}),u.value=!1}).catch(e=>{u.value=!1,Object(N["a"])({type:"error",message:e.message})})},F=()=>{c.value=O.value.filter(e=>e.amount),J()},K=()=>{T("printable")},I=e=>d.value=e,J=()=>{localStorage.setItem("booksData",JSON.stringify(F.value))};return{refreshTable:f,totalCount:j,loading:n,selectedOption:d,searchBook:V,searchValue:r,selectBook:I,printMe:K,printData:F,tempValue:e,tableData:O,getdata:C,Plus:y["a"],dialogVisible:t,Check:x["a"],handleAdd:g,handleCustomAdd:v,toggleDialog:p,Printer:k["a"],printingData:c,DocumentCopy:_["a"],refreshKey:o,column:a,addColumn:S,removeColumn:P,Search:B["a"],dialogFormVisible:i,form:b,addNewBook:D,formSubmiting:u,dialogFormVisible2:s,saveMonthlyData:U,savingDate:m}}},U=(o("a654"),o("6b0d")),F=o.n(U);const K=F()(P,[["render",v]]);var I=K;const J=Object(l["createApp"])(I).use(a["a"]);J.directive("focus",{mounted(e){e.focus()}}),J.mount("#app")},a654:function(e,t,o){"use strict";o("aefb")},aefb:function(e,t,o){}});
//# sourceMappingURL=app.edd8675b.js.map